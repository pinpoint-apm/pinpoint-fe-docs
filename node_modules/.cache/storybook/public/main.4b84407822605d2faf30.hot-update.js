"use strict";
self["webpackHotUpdate_pinpoint_fe_scatter_chart"]("main",{

/***/ "./src/ui/ScatterChart.ts":
/*!********************************!*\
  !*** ./src/ui/ScatterChart.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ScatterChart": () => (/* binding */ ScatterChart)
/* harmony export */ });
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_function_bind_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.function.bind.js */ "../../node_modules/core-js/modules/es.function.bind.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_function_bind_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_function_bind_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.array.concat.js */ "../../node_modules/core-js/modules/es.array.concat.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.array.reduce.js */ "../../node_modules/core-js/modules/es.array.reduce.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_object_assign_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.object.assign.js */ "../../node_modules/core-js/modules/es.object.assign.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_object_assign_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_object_assign_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.array.for-each.js */ "../../node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../node_modules/core-js/modules/web.dom-collections.for-each.js */ "../../node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.object.keys.js */ "../../node_modules/core-js/modules/es.object.keys.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.array.filter.js */ "../../node_modules/core-js/modules/es.array.filter.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.object.values.js */ "../../node_modules/core-js/modules/es.object.values.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_object_values_js__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.promise.js */ "../../node_modules/core-js/modules/es.promise.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.object.to-string.js */ "../../node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.string.replace.js */ "../../node_modules/core-js/modules/es.string.replace.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.regexp.exec.js */ "../../node_modules/core-js/modules/es.regexp.exec.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.object.define-property.js */ "../../node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_is_array_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.array.is-array.js */ "../../node_modules/core-js/modules/es.array.is-array.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_is_array_js__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_is_array_js__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.symbol.js */ "../../node_modules/core-js/modules/es.symbol.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_symbol_js__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.symbol.description.js */ "../../node_modules/core-js/modules/es.symbol.description.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_symbol_description_js__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.symbol.iterator.js */ "../../node_modules/core-js/modules/es.symbol.iterator.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_symbol_iterator_js__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.string.iterator.js */ "../../node_modules/core-js/modules/es.string.iterator.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.array.iterator.js */ "../../node_modules/core-js/modules/es.array.iterator.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../node_modules/core-js/modules/web.dom-collections.iterator.js */ "../../node_modules/core-js/modules/web.dom-collections.iterator.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.array.from.js */ "../../node_modules/core-js/modules/es.array.from.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.array.slice.js */ "../../node_modules/core-js/modules/es.array.slice.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_22__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.function.name.js */ "../../node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_23__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_symbol_async_iterator_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.symbol.async-iterator.js */ "../../node_modules/core-js/modules/es.symbol.async-iterator.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_symbol_async_iterator_js__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_symbol_async_iterator_js__WEBPACK_IMPORTED_MODULE_24__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_symbol_to_string_tag_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.symbol.to-string-tag.js */ "../../node_modules/core-js/modules/es.symbol.to-string-tag.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_symbol_to_string_tag_js__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_symbol_to_string_tag_js__WEBPACK_IMPORTED_MODULE_25__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_math_to_string_tag_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.math.to-string-tag.js */ "../../node_modules/core-js/modules/es.math.to-string-tag.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_math_to_string_tag_js__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_math_to_string_tag_js__WEBPACK_IMPORTED_MODULE_26__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_json_to_string_tag_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.json.to-string-tag.js */ "../../node_modules/core-js/modules/es.json.to-string-tag.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_json_to_string_tag_js__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_json_to_string_tag_js__WEBPACK_IMPORTED_MODULE_27__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_object_create_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.object.create.js */ "../../node_modules/core-js/modules/es.object.create.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_object_create_js__WEBPACK_IMPORTED_MODULE_28___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_object_create_js__WEBPACK_IMPORTED_MODULE_28__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_object_get_prototype_of_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.object.get-prototype-of.js */ "../../node_modules/core-js/modules/es.object.get-prototype-of.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_object_get_prototype_of_js__WEBPACK_IMPORTED_MODULE_29___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_object_get_prototype_of_js__WEBPACK_IMPORTED_MODULE_29__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_object_set_prototype_of_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.object.set-prototype-of.js */ "../../node_modules/core-js/modules/es.object.set-prototype-of.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_object_set_prototype_of_js__WEBPACK_IMPORTED_MODULE_30___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_object_set_prototype_of_js__WEBPACK_IMPORTED_MODULE_30__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_reverse_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.array.reverse.js */ "../../node_modules/core-js/modules/es.array.reverse.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_reverse_js__WEBPACK_IMPORTED_MODULE_31___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_reverse_js__WEBPACK_IMPORTED_MODULE_31__);
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! lodash.merge */ "../../node_modules/lodash.merge/index.js");
/* harmony import */ var lodash_merge__WEBPACK_IMPORTED_MODULE_32___default = /*#__PURE__*/__webpack_require__.n(lodash_merge__WEBPACK_IMPORTED_MODULE_32__);
/* harmony import */ var _Layer__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./Layer */ "./src/ui/Layer.ts");
/* harmony import */ var _Viewport__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./Viewport */ "./src/ui/Viewport.ts");
/* harmony import */ var _utils_draw__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../utils/draw */ "./src/utils/draw.ts");
/* harmony import */ var _YAxis__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./YAxis */ "./src/ui/YAxis.ts");
/* harmony import */ var _XAxis__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./XAxis */ "./src/ui/XAxis.ts");
/* harmony import */ var _constants_ui__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../constants/ui */ "./src/constants/ui.ts");
/* harmony import */ var _GridAxis__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./GridAxis */ "./src/ui/GridAxis.ts");
/* harmony import */ var _Legend__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./Legend */ "./src/ui/Legend.ts");
/* harmony import */ var _Guide__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./Guide */ "./src/ui/Guide.ts");
/* harmony import */ var _constants_options__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../constants/options */ "./src/constants/options.ts");
/* harmony import */ var _utils_helper__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../utils/helper */ "./src/utils/helper.ts");
/* harmony import */ var html2canvas__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! html2canvas */ "../../node_modules/html2canvas/dist/html2canvas.js");
/* harmony import */ var html2canvas__WEBPACK_IMPORTED_MODULE_44___default = /*#__PURE__*/__webpack_require__.n(html2canvas__WEBPACK_IMPORTED_MODULE_44__);
function _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, ""); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return generator._invoke = function (innerFn, self, context) { var state = "suspendedStart"; return function (method, arg) { if ("executing" === state) throw new Error("Generator is already running"); if ("completed" === state) { if ("throw" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if ("next" === context.method) context.sent = context._sent = context.arg;else if ("throw" === context.method) { if ("suspendedStart" === state) throw state = "completed", context.arg; context.dispatchException(context.arg); } else "return" === context.method && context.abrupt("return", context.arg); state = "executing"; var record = tryCatch(innerFn, self, context); if ("normal" === record.type) { if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg); } }; }(innerFn, self, context), generator; } function tryCatch(fn, obj, arg) { try { return { type: "normal", arg: fn.call(obj, arg) }; } catch (err) { return { type: "throw", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { ["next", "throw", "return"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if ("throw" !== record.type) { var result = record.arg, value = result.value; return value && "object" == typeof value && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke("next", value, resolve, reject); }, function (err) { invoke("throw", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke("throw", error, resolve, reject); }); } reject(record.arg); } var previousPromise; this._invoke = function (method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); }; } function maybeInvokeDelegate(delegate, context) { var method = delegate.iterator[context.method]; if (undefined === method) { if (context.delegate = null, "throw" === context.method) { if (delegate.iterator["return"] && (context.method = "return", context.arg = undefined, maybeInvokeDelegate(delegate, context), "throw" === context.method)) return ContinueSentinel; context.method = "throw", context.arg = new TypeError("The iterator does not provide a 'throw' method"); } return ContinueSentinel; } var record = tryCatch(method, delegate.iterator, context.arg); if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, "return" !== context.method && (context.method = "next", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = "normal", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: "root" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if ("function" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, "constructor", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, "constructor", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), exports.isGeneratorFunction = function (genFun) { var ctor = "function" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, "toString", function () { return "[object Generator]"; }), exports.keys = function (object) { var keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = "next", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if ("throw" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if ("root" === entry.tryLoc) return handle("end"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error("try statement without catch or finally"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if ("throw" === record.type) throw record.arg; return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, "catch": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if ("throw" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, "next" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }

function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }

function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }


































function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }














var ScatterChart = /*#__PURE__*/function () {
  function ScatterChart(wrapper, options) {
    _classCallCheck(this, ScatterChart);

    this.wrapper = void 0;
    this.canvasWrapper = void 0;
    this.options = void 0;
    this.xAxis = void 0;
    this.yAxis = void 0;
    this.gridAxis = void 0;
    this.legend = void 0;
    this.dataColorMap = void 0;
    this.viewport = void 0;
    this.guide = void 0;
    this.dataLayers = {};
    this.data = [];
    this.datas = {};
    this.xRatio = 1;
    this.yRatio = 1;
    this.coordX = 0;
    this.coordY = 0;
    this.realtimeAxisMinX = 0;
    this.realtimeAxisMaxX = 0;
    this.width = 0;
    this.height = 0;
    this.padding = _constants_ui__WEBPACK_IMPORTED_MODULE_38__.CONTAINER_PADDING;
    this.t0 = 0;
    this.reqAnimation = 0;
    this.wrapper = wrapper;
    this.canvasWrapper = document.createElement('div');
    this.canvasWrapper.className = ScatterChart.SCATTER_CHART_CONTAINER_CLASS;
    this.canvasWrapper.style.position = 'relative';
    this.wrapper.append(this.canvasWrapper);
    this.setOptions(options);
    this.setWidthAndHeight();
    this.setViewPort();
    this.setPadding();
    this.setRatio();
    this.setAxis();
    this.setGuide();
    this.setLayers();
    this.setLegends();
    this.shoot();
    this.animate = this.animate.bind(this);
  }

  _createClass(ScatterChart, [{
    key: "setOptions",
    value: function setOptions(options) {
      this.options = {
        // TODO deep copy
        axis: lodash_merge__WEBPACK_IMPORTED_MODULE_32___default()(_constants_options__WEBPACK_IMPORTED_MODULE_42__.defaultAxisOption, options.axis),
        data: [].concat(_toConsumableArray(_constants_options__WEBPACK_IMPORTED_MODULE_42__.defaultDataOption), _toConsumableArray(options.data)),
        legend: lodash_merge__WEBPACK_IMPORTED_MODULE_32___default()(_constants_options__WEBPACK_IMPORTED_MODULE_42__.defaultLegendOption, options.legend)
      };
      this.dataColorMap = this.options.data.reduce(function (prev, curr) {
        var _Object$assign;

        return Object.assign((_Object$assign = {}, _Object$assign[curr.type] = curr.color, _Object$assign), prev);
      }, {});
    }
  }, {
    key: "setWidthAndHeight",
    value: function setWidthAndHeight() {
      this.width = this.canvasWrapper.clientWidth || _constants_ui__WEBPACK_IMPORTED_MODULE_38__.CONTAINER_WIDTH;
      this.height = this.canvasWrapper.clientHeight || _constants_ui__WEBPACK_IMPORTED_MODULE_38__.CONTAINER_HEIGHT;
    }
  }, {
    key: "setPadding",
    value: function setPadding() {
      var _this$options$axis$x$,
          _this = this;

      var xformatter = (_this$options$axis$x$ = this.options.axis.x.tick) === null || _this$options$axis$x$ === void 0 ? void 0 : _this$options$axis$x$.format;
      var xTicks = (0,_utils_helper__WEBPACK_IMPORTED_MODULE_43__.getTickTexts)(this.options.axis.x);
      var yTicks = (0,_utils_helper__WEBPACK_IMPORTED_MODULE_43__.getTickTexts)(this.options.axis.y);
      var maxXTickTextWidth = (0,_utils_helper__WEBPACK_IMPORTED_MODULE_43__.getLongestTextWidth)(xTicks, function (t) {
        return _this.viewport.viewLayer.getTextWidth(t);
      });
      var maxYTickTextWidth = (0,_utils_helper__WEBPACK_IMPORTED_MODULE_43__.getLongestTextWidth)(yTicks, function (t) {
        return _this.viewport.viewLayer.getTextWidth(t);
      });
      var formattedXSample = xformatter ? xformatter(this.options.axis.x.max) : this.options.axis.x.max;
      this.padding.left = (maxXTickTextWidth / 2 > maxYTickTextWidth ? maxXTickTextWidth / 2 : maxYTickTextWidth) + _constants_ui__WEBPACK_IMPORTED_MODULE_38__.TEXT_MARGIN_LEFT + _constants_ui__WEBPACK_IMPORTED_MODULE_38__.TEXT_MARGIN_RIGHT + _constants_ui__WEBPACK_IMPORTED_MODULE_38__.AXIS_TICK_LENGTH;
      this.padding.right = maxXTickTextWidth / 2 + _constants_ui__WEBPACK_IMPORTED_MODULE_38__.TEXT_MARGIN_RIGHT;
      this.padding.bottom = this.viewport.viewLayer.getTextHeight(formattedXSample) + _constants_ui__WEBPACK_IMPORTED_MODULE_38__.TEXT_MARGIN_TOP + _constants_ui__WEBPACK_IMPORTED_MODULE_38__.TEXT_MARGIN_BOTTOM + _constants_ui__WEBPACK_IMPORTED_MODULE_38__.AXIS_TICK_LENGTH;
    }
  }, {
    key: "setViewPort",
    value: function setViewPort() {
      this.viewport = new _Viewport__WEBPACK_IMPORTED_MODULE_34__.Viewport(this.canvasWrapper, {
        width: this.width,
        height: this.height
      });
    }
  }, {
    key: "setGuide",
    value: function setGuide() {
      this.guide = new _Guide__WEBPACK_IMPORTED_MODULE_41__.Guide(this.canvasWrapper, {
        width: this.width,
        height: this.height,
        padding: this.padding,
        axisOption: this.options.axis,
        ratio: {
          x: this.xRatio,
          y: this.yRatio
        }
      });
    }
  }, {
    key: "setAxis",
    value: function setAxis() {
      var _options$axis$x$tick, _options$axis$y$tick;

      var options = this.options;
      this.yAxis = new _YAxis__WEBPACK_IMPORTED_MODULE_36__.YAxis({
        axisOption: options.axis.y,
        width: this.width,
        height: this.height,
        padding: this.padding,
        priority: -2,
        fixed: true
      });
      this.xAxis = new _XAxis__WEBPACK_IMPORTED_MODULE_37__.XAxis({
        axisOption: options.axis.x,
        width: this.width,
        height: this.height,
        padding: this.padding,
        priority: -1
      });
      this.gridAxis = new _GridAxis__WEBPACK_IMPORTED_MODULE_39__.GridAxis({
        width: this.width,
        height: this.height,
        padding: this.padding,
        priority: 9999,
        xTickCount: (_options$axis$x$tick = options.axis.x.tick) === null || _options$axis$x$tick === void 0 ? void 0 : _options$axis$x$tick.count,
        yTickCount: (_options$axis$y$tick = options.axis.y.tick) === null || _options$axis$y$tick === void 0 ? void 0 : _options$axis$y$tick.count
      });
      this.viewport.addLayer(this.yAxis);
      this.viewport.addLayer(this.xAxis);
      this.viewport.addLayer(this.gridAxis);
    }
  }, {
    key: "setLayers",
    value: function setLayers() {
      var _this2 = this;

      var width = this.viewport.styleWidth;
      var height = this.viewport.styleHeight;
      var dataOptions = this.options.data;
      dataOptions.forEach(function (_ref) {
        var type = _ref.type,
            _ref$priority = _ref.priority,
            priority = _ref$priority === void 0 ? _constants_ui__WEBPACK_IMPORTED_MODULE_38__.LAYER_DEFAULT_PRIORITY : _ref$priority;

        _this2.setLayer(type, width, height, priority);
      });
    }
  }, {
    key: "setLayer",
    value: function setLayer(legend, width, height, priority) {
      var layer = new _Layer__WEBPACK_IMPORTED_MODULE_33__.Layer({
        width: width,
        height: height
      });
      layer.id = legend;
      layer.priority = priority;
      this.dataLayers[legend] = layer;
      this.viewport.addLayer(layer);
    }
  }, {
    key: "setLegends",
    value: function setLegends() {
      var _this$options,
          _this3 = this;

      this.legend = new _Legend__WEBPACK_IMPORTED_MODULE_40__.Legend(this.wrapper, {
        types: Object.keys(this.dataLayers),
        dataColorMap: this.dataColorMap,
        legendOptions: (_this$options = this.options) === null || _this$options === void 0 ? void 0 : _this$options.legend
      });
      this.legend.addEvents(function (_ref2) {
        var type = _ref2.type,
            checked = _ref2.checked;

        if (type) {
          if (checked) {
            _this3.viewport.showLayer(type);
          } else {
            _this3.viewport.hideLayer(type);
          }
        }

        _this3.shoot();
      }).render();
    }
  }, {
    key: "setRatio",
    value: function setRatio() {
      var _this$options2;

      var axis = (_this$options2 = this.options) === null || _this$options2 === void 0 ? void 0 : _this$options2.axis;
      var padding = this.padding;
      var width = this.viewport.canvas.width / this.viewport.viewLayer.dpr;
      var height = this.viewport.canvas.height / this.viewport.viewLayer.dpr;
      var minX = axis.x.min;
      var maxX = axis.x.max;
      var minY = axis.y.min;
      var maxY = axis.y.max;
      this.xRatio = (width - padding.left - padding.right - _constants_ui__WEBPACK_IMPORTED_MODULE_38__.AXIS_INNER_PADDING * 2) / (maxX - minX);
      this.yRatio = (height - padding.bottom - padding.top - _constants_ui__WEBPACK_IMPORTED_MODULE_38__.AXIS_INNER_PADDING * 2) / (maxY - minY);
    }
  }, {
    key: "shoot",
    value: function shoot() {
      var _this4 = this;

      this.viewport.clear();
      (0,_utils_draw__WEBPACK_IMPORTED_MODULE_35__.drawRect)(this.viewport.context, 0, 0, this.width, this.height);
      this.viewport.render(this.coordX, this.coordY);
      Object.keys(this.datas).forEach(function (key) {
        _this4.legend.setLegendCount(key, _this4.datas[key].length);
      });
    }
  }, {
    key: "animate",
    value: function animate(duration, now) {
      var _this5 = this;

      this.shoot();
      if (!this.t0) this.t0 = now;
      var dt = now - this.t0;
      var pixcelPerFrame = (this.viewport.styleWidth - this.padding.left - this.padding.right - _constants_ui__WEBPACK_IMPORTED_MODULE_38__.AXIS_INNER_PADDING * 2) / duration * dt;
      var pixcelPerSecond = pixcelPerFrame * 60;
      this.t0 = now;
      this.coordX = this.coordX - pixcelPerFrame; // 특정 주기마다 시행

      if (Math.abs(Math.floor(this.coordX)) % Math.floor(pixcelPerSecond / 5) === 0) {
        var x = Math.abs(this.coordX) / this.xRatio;
        Object.keys(this.datas).forEach(function (key) {
          _this5.datas[key] = _this5.datas[key].filter(function (d) {
            return d > x;
          });
        });
        this.guide.updateXAxis({
          min: x + this.xAxis.min
        });
      }

      if (this.coordX > -(this.viewport.styleWidth - this.padding.left - this.padding.right - _constants_ui__WEBPACK_IMPORTED_MODULE_38__.AXIS_INNER_PADDING * 2)) {
        this.reqAnimation = requestAnimationFrame(function (t) {
          return _this5.animate(duration, t);
        });
      } else {
        // swap
        var nextAxisMinX = this.realtimeAxisMinX + (this.realtimeAxisMaxX - this.realtimeAxisMinX) / 2;
        var nextAxisMaxX = this.realtimeAxisMaxX + (this.realtimeAxisMaxX - this.realtimeAxisMinX) / 2;
        this.realtimeAxisMinX = nextAxisMinX;
        this.realtimeAxisMaxX = nextAxisMaxX;
        this.coordX = 0;
        this.xAxis.setMinMax(this.realtimeAxisMinX, this.realtimeAxisMaxX).render();
        Object.values(this.dataLayers).filter(function (layer) {
          return !layer.isFixed;
        }).forEach(function (layer) {
          return layer.swapCanvasImage();
        });
        this.reqAnimation = requestAnimationFrame(function (t) {
          return _this5.animate(duration, t);
        });
      }
    }
  }, {
    key: "render",
    value: function render(data) {
      var _this6 = this;

      var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
          _ref3$append = _ref3.append,
          append = _ref3$append === void 0 ? false : _ref3$append;

      var _this$viewport = this.viewport,
          styleWidth = _this$viewport.styleWidth,
          styleHeight = _this$viewport.styleHeight;
      var _this$options$axis = this.options.axis,
          xAxisOptoin = _this$options$axis.x,
          yAxisOption = _this$options$axis.y;
      var padding = this.padding;

      if (append) {
        this.data = [].concat(_toConsumableArray(this.data), _toConsumableArray(data));
      } else {
        this.data = data;
        this.datas = {};
        Object.values(this.dataLayers).forEach(function (layer) {
          return layer.clear();
        });
      }

      data.forEach(function (_ref4) {
        var x = _ref4.x,
            y = _ref4.y,
            type = _ref4.type,
            hidden = _ref4.hidden;
        var legend = type ? type : 'unknown';

        if (xAxisOptoin.min <= x && xAxisOptoin.max >= x && yAxisOption.min <= y && yAxisOption.max >= y) {
          if (!_this6.dataLayers[legend]) {
            _this6.setLayer(legend, styleWidth, styleHeight, _constants_ui__WEBPACK_IMPORTED_MODULE_38__.LAYER_DEFAULT_PRIORITY);
          }

          if (_this6.datas[legend]) {
            _this6.datas[legend].push(x);
          } else {
            _this6.datas[legend] = [x];
          }

          !hidden && (0,_utils_draw__WEBPACK_IMPORTED_MODULE_35__.drawCircle)(_this6.dataLayers[legend].context, _this6.xRatio * (x - _this6.xAxis.min) + padding.left + _constants_ui__WEBPACK_IMPORTED_MODULE_38__.AXIS_INNER_PADDING, _this6.viewport.canvas.height / _this6.viewport.viewLayer.dpr - _this6.yRatio * y - padding.bottom - _constants_ui__WEBPACK_IMPORTED_MODULE_38__.AXIS_INNER_PADDING, {
            fillColor: _this6.dataColorMap[legend]
          });
        } else {
          console.log(x, y);
        }
      });
      this.shoot();
    }
  }, {
    key: "on",
    value: function on(evetntType, callback) {
      this.guide.on(evetntType, callback);
    }
  }, {
    key: "resize",
    value: function resize(width, height) {
      var w = width || this.canvasWrapper.clientWidth;
      var h = height || this.canvasWrapper.clientHeight;
      this.viewport.setSize(w, h);
      this.setRatio();
      this.xAxis.setSize(w, h);
      this.yAxis.setSize(w, h);
      this.gridAxis.setSize(w, h);
      this.guide.setOptions({
        width: w,
        height: h,
        ratio: {
          x: this.xRatio,
          y: this.yRatio
        }
      });
      Object.values(this.dataLayers).forEach(function (layer) {
        return layer.setSize(w, h);
      });
      this.legend.setSize(w);
      this.render(this.data);
    }
  }, {
    key: "setAxisOption",
    value: function setAxisOption(axisOption) {
      this.setOptions(lodash_merge__WEBPACK_IMPORTED_MODULE_32___default()(this.options, {
        axis: axisOption
      }));
      this.setPadding();
      this.setRatio();
      this.guide.setOptions({
        padding: this.padding,
        ratio: {
          x: this.xRatio,
          y: this.yRatio
        }
      });
      this.xAxis.setOptions({
        min: this.options.axis.x.min,
        max: this.options.axis.x.max,
        padding: this.padding
      }).render();
      this.yAxis.setOptions({
        min: this.options.axis.y.min,
        max: this.options.axis.y.max,
        padding: this.padding
      }).render();
      this.gridAxis.setOptions({
        padding: this.padding
      }).render();
      this.render(this.data);
    }
  }, {
    key: "toBase64Image",
    value: function () {
      var _toBase64Image = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
        var layer, containerCanvas, legendCanvas, downloadElement, image;
        return _regeneratorRuntime().wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                // this.viewport.setSize(CONTAINER_WIDTH, CONTAINER_HEIGHT).render(0,0);
                layer = new _Layer__WEBPACK_IMPORTED_MODULE_33__.Layer({
                  width: this.width,
                  height: this.height
                }); // const clonedViewPort = clonedeep(this.viewport)
                // console.log(clonedViewPort === this.viewport);
                // console.log(clonedViewPort.viewLayer === this.viewport.viewLayer);
                // clonedViewPort.setSize(CONTAINER_WIDTH, CONTAINER_HEIGHT);
                // // [...Array.from(clonedLegend.getElementsByTagName('input'))].forEach((node) => {
                // //   console.log(node)
                // //   clonedLegend.removeChild(node);
                // // })
                // layer.setSize(this.width, this.height);
                // // drawRect(layer.context, 0, 0, this.width, this.height, { color: 'white' });

                _context.next = 3;
                return html2canvas__WEBPACK_IMPORTED_MODULE_44___default()(document.querySelector("." + ScatterChart.SCATTER_CHART_CONTAINER_CLASS)).then(function (canvas) {
                  return canvas;
                });

              case 3:
                containerCanvas = _context.sent;
                _context.next = 6;
                return html2canvas__WEBPACK_IMPORTED_MODULE_44___default()(document.querySelector("." + _Legend__WEBPACK_IMPORTED_MODULE_40__.Legend.LEGEND_CONTAINER_CLASS)).then(function (canvas) {
                  return canvas;
                });

              case 6:
                legendCanvas = _context.sent;
                layer.setSize(containerCanvas.width, containerCanvas.height + legendCanvas.height);
                layer.context.drawImage(containerCanvas, 0, 0);
                layer.context.drawImage(legendCanvas, containerCanvas.height, 0);
                downloadElement = document.createElement('a');
                image = layer.canvas.toDataURL("image/png").replace("image/png", "image/octet-stream");
                downloadElement.setAttribute("href", image);
                downloadElement.setAttribute('download', 1 + ".png");
                this.wrapper.appendChild(downloadElement);
                downloadElement.click();
                this.wrapper.removeChild(downloadElement);

              case 17:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function toBase64Image() {
        return _toBase64Image.apply(this, arguments);
      }

      return toBase64Image;
    }() // public startRealtime(duration: number) {
    //   if (this.reqAnimation) return;
    //   const axisOptions = this.options.axis;
    //   this.xAxis
    //     .setTickCount(axisOptions.x.tick?.count! * 2 - 1)
    //     .setSize(this.width * 2 - this.padding.left - AXIS_INNER_PADDING * 2 - this.padding.right, this.height)
    //     .setMinMax(axisOptions.x.min, axisOptions.x.max * 2 - axisOptions.x.min)
    //     .render();
    //   this.realtimeAxisMinX = axisOptions.x.min;
    //   this.realtimeAxisMaxX = axisOptions.x.max * 2 - axisOptions.x.min;
    //   this.gridAxis
    //     .setXTickCount(axisOptions.x.tick?.count! * 2 - 1)
    //     .setSize(this.width * 2 - this.padding.left - AXIS_INNER_PADDING * 2 - this.padding.right, this.height)
    //     .render();
    //   this.animate(duration, this.t0);
    // }
    // public stopRealtime() {
    //   cancelAnimationFrame(this.reqAnimation);
    //   const axisOptions = this.options.axis;
    //   this.reqAnimation = 0;
    //   this.coordX = 0;
    //   this.t0 = 0;
    //   this.xAxis
    //     .setTickCount(axisOptions.x.tick?.count!)
    //     .setSize(this.width, this.height)
    //     .setMinMax(axisOptions.x.min, axisOptions.x.max)
    //     .render();
    //   this.realtimeAxisMinX = axisOptions.x.min;
    //   this.realtimeAxisMaxX = axisOptions.x.max;
    //   this.guide.updateXAxis({ min: axisOptions.x.min });
    //   this.gridAxis
    //     .setXTickCount(axisOptions.x.tick?.count!)
    //     .setSize(this.width, this.height)
    //     .render();
    //   this.shoot();
    // }

  }]);

  return ScatterChart;
}();
ScatterChart.SCATTER_CHART_CONTAINER_CLASS = _constants_ui__WEBPACK_IMPORTED_MODULE_38__.SCATTER_CHART_IDENTIFIER + "container";

/***/ })

});
//# sourceMappingURL=main.4b84407822605d2faf30.hot-update.js.map