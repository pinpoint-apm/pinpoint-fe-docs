"use strict";
self["webpackHotUpdate_pinpoint_fe_scatter_chart"]("main",{

/***/ "./src/ui/Legend.ts":
/*!**************************!*\
  !*** ./src/ui/Legend.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Legend": () => (/* binding */ Legend)
/* harmony export */ });
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.function.name.js */ "../../node_modules/core-js/modules/es.function.name.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.array.for-each.js */ "../../node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../node_modules/core-js/modules/web.dom-collections.for-each.js */ "../../node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../node_modules/core-js/modules/es.object.define-property.js */ "../../node_modules/core-js/modules/es.object.define-property.js");
/* harmony import */ var _Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_Users_dy_dy_projects_pinpoint_web_src_main_web_frontend_node_modules_core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _constants_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constants/ui */ "./src/constants/ui.ts");





function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }


var Legend = /*#__PURE__*/function () {
  function Legend(rootWrapper, _ref) {
    var types = _ref.types,
        legendOptions = _ref.legendOptions,
        dataColorMap = _ref.dataColorMap,
        width = _ref.width;

    _classCallCheck(this, Legend);

    this.rootWrapper = void 0;
    this.types = void 0;
    this.options = void 0;
    this.dataColorMap = void 0;
    this.containerElement = void 0;
    this.legendElements = {};
    this.rootWrapper = rootWrapper;
    this.types = types;
    this.options = legendOptions;
    this.dataColorMap = dataColorMap;
    this.containerElement = document.createElement('div');
    this.containerElement.className = _constants_ui__WEBPACK_IMPORTED_MODULE_4__.SCATTER_CHART_IDENTIFIER + "legend_container";
    this.containerElement.style.width = "" + width || "" + this.rootWrapper.clientWidth;
  }

  _createClass(Legend, [{
    key: "setSize",
    value: function setSize(width) {}
  }, {
    key: "addEvents",
    value: function addEvents(callback) {
      this.containerElement.addEventListener('click', function (event) {
        var isInputNode = event.target.nodeName === 'INPUT';
        var wrapper = event.target.closest('div');
        var checkbox = wrapper.querySelector('input');

        if (isInputNode) {
          callback === null || callback === void 0 ? void 0 : callback({
            type: wrapper.dataset.name,
            checked: checkbox.checked
          });
        }
      });
      return this;
    }
  }, {
    key: "render",
    value: function render() {
      var _this = this;

      var options = this.options;
      var dataTypes = this.types;
      dataTypes.forEach(function (type) {
        var _options$formatLabel;

        // wrapper div
        var legendWrapper = document.createElement('div');
        legendWrapper.dataset.name = type;
        legendWrapper.className = Legend.LEGEND_CLASS + " " + type; // mark

        var markElement = document.createElement('span');
        markElement.style.background = _this.dataColorMap[type]; // const formattedLabel = options?.formatLabel?.(type) || type;

        markElement.className = Legend.MARK_CLASS; // count span

        var countElement = document.createElement('span');
        countElement.className = Legend.COUNT_CLASS; // label

        var labelElement = document.createElement('label');
        var formattedLabel = (options === null || options === void 0 ? void 0 : (_options$formatLabel = options.formatLabel) === null || _options$formatLabel === void 0 ? void 0 : _options$formatLabel.call(options, type)) || type;
        labelElement.htmlFor = Legend.LEGEND_CLASS + "_" + type + "_input";
        labelElement.append("" + formattedLabel, countElement); // input

        var inputElement = document.createElement('input');
        inputElement.id = Legend.LEGEND_CLASS + "_" + type + "_input";
        inputElement.type = 'checkbox';
        inputElement.checked = true;
        _this.legendElements[type] = legendWrapper;
        legendWrapper.append(markElement, labelElement, inputElement);

        _this.containerElement.append(legendWrapper);
      });
      this.rootWrapper.append(this.containerElement);
    }
  }, {
    key: "setLegendCount",
    value: function setLegendCount(type, value) {
      var _this$options$formatV, _this$options;

      var legendElement = this.legendElements[type];
      var countElement = legendElement.getElementsByClassName(Legend.COUNT_CLASS)[0];
      countElement.innerHTML = "" + ((_this$options$formatV = (_this$options = this.options).formatValue) === null || _this$options$formatV === void 0 ? void 0 : _this$options$formatV.call(_this$options, value));
    }
  }]);

  return Legend;
}();
Legend.LEGEND_CLASS = _constants_ui__WEBPACK_IMPORTED_MODULE_4__.SCATTER_CHART_IDENTIFIER + "legend";
Legend.MARK_CLASS = Legend.LEGEND_CLASS + "_mark";
Legend.COUNT_CLASS = Legend.LEGEND_CLASS + "_count";

/***/ })

});
//# sourceMappingURL=main.b668d756becf2dbb0b65.hot-update.js.map